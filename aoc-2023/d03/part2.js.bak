const fs = require('fs');
const readline = require('readline');

const INPUT_FILE = 'in0';

function is_digit(char) {
  return char >= '0' && char <= '9'
}

function has_neighbor(lines, i, j, k) {
  for (const ii of [i - 1, i, i + 1]) {
    if (ii < 0 || ii >= lines.length) {
      continue;
    }

    for (var jj = Math.max(0, j - 1); jj < Math.min(j + k + 1, lines[i].length); ++jj) {
      const char = lines[ii][jj];
      if (char != '.' && !is_digit(char)) {
        return true;
      }
    }
  }

  return false;
}

async function process_lines() {
  const file_stream = fs.createReadStream(INPUT_FILE);
  const line_reader = readline.createInterface({
    input: file_stream, crlfDelay: Infinity
  });

  var total = 0;

  const lines = [];

  for await (const line of line_reader) {
    lines.push(line);
  }

  for (var i = 0; i < lines.length; ++i) {
    for (var j = 0; j < lines[i].length; ++j) {
      var char = lines[i].charAt(j);

      if (char == "*") {
        for (var ii = Math.max(0, i - 1); ii < Math.min(lines.length, i + 2); ++ii) {
          for (var jj = Math.max(0, j - 1); jj < Math.min(lines[ii].length, j + 2); ++jj) {
            console.log(ii, jj);
          }
        }
      }
    }
  }

  console.log(total);
}

process_lines();
